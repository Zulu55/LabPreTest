@page "/orders/create"

<h3>Crear Orden</h3>

@if (TemporalOrders is null)
{
    <Loading />
}
else
{
    <div class="mb-3">
        <button class="btn btn-primary" @onclick="ProcessOrder">Crear</button>
        <button class="btn btn-success" @onclick="Return">Regresar</button>
    </div>
    <div class="mb-3">
        <label>Numero de exámenes: @NumberOfTests</label>
    </div>
    <div class="mb-3">
        <label>Paciente:</label>
        <input type="text" value="@PatientName" disabled="true"/>
        <button class="btn btn-success" disabled=@IsSelectorDisabled @onclick=@(()=>ShowFindPatientModal())>Buscar</button>
    </div>

    <div class="mb-3">
        <label>Médico:</label>
        <input type="text" value="@MedicianName" disabled="true"/>
        <button class="btn btn-success"  disabled=@IsSelectorDisabled @onclick=@(()=>ShowFindMedicianModal())>Buscar</button>
    </div>

    <div class="mb-3">
        <button class="btn btn-primary" disabled=@IsAddButtonDisabled @onclick=@(()=>ShowAddTestModal())>Agregar Examen</button>
    </div>
    <div class="mb-3">
        <table class="table table-striped">
            <thead>
            <th>ID</th>
            <th>Nombre</th>
            </thead>
            <tbody>
                @foreach (var to in TemporalOrders)
                {
                    <tr>
                        <td>@to.TestId</td>
                        <td>@to.Test!.Name</td>
                    </tr>
                }
            </tbody>
        </table>
        <!--<ValidationMessage For="@(() => Model.TestIds)" />-->
    </div>
}
